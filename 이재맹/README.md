# CO₂ 농도 측정 및 경고 시스템

이 프로젝트는 차량 내부의 CO₂ 농도를 실시간으로 모니터링하여 졸음 운전 위험성을 줄이고, 실내 공기질을 개선하기 위해 설계되었습니다. Zigbee 통신을 활용해 센서 데이터를 안정적으로 수집하며, Raspberry Pi를 통해 데이터를 처리하고 음성 경고를 제공합니다.

---

## 📋 주요 기능

- **이산화탄소 농도 측정**  
  차량 내부의 CO₂ 농도를 실시간으로 감지하고, 임계값 초과 시 경고를 제공합니다.
- **음성 경고 시스템**  
  CO₂ 농도가 설정된 임계값을 초과할 경우 음성 메시지를 통해 즉각적인 환기 알림을 제공합니다.
- **Zigbee 데이터 전송**  
  센서 데이터를 Zigbee 통신을 통해 Raspberry Pi로 전송하여 안정적이고 효율적인 데이터 흐름을 보장합니다.
- **실시간 데이터 처리**  
  Raspberry Pi에서 데이터를 처리하여 CO₂ 농도가 위험 수준에 도달했는지 판단하고, 즉각 경고 메시지를 출력합니다.

---

## 📊 데이터 흐름

![데이터 흐름 다이어그램](https://github.com/user-attachments/assets/6dd596ab-ffda-4691-8f16-840387ed6b95)

1. **데이터 수집**  
   - CO₂ 센서가 Zigbee 네트워크를 통해 데이터를 Raspberry Pi로 전송합니다.
2. **데이터 처리**  
   - Raspberry Pi에서 수신한 데이터를 ppm 단위로 변환하고, 임계값 초과 여부를 분석합니다.
3. **경고 알림**  
   - CO₂ 농도가 설정된 임계값을 초과하면 음성으로 "이산화탄소 농도가 높습니다. 즉시 환기가 필요합니다."라는 메시지가 출력됩니다.

---

## 🚀 실행 방법

1. **Raspberry Pi 설정**  
   - Raspberry Pi에 Python 3.11 이상이 설치되어 있어야 합니다.  
   - 필요한 라이브러리를 설치합니다:
     ```bash
     pip install pyttsx3
     ```

2. **장비 연결**  
   - CO₂ 센서를 Zigbee 모듈과 연결합니다.  
   - Zigbee 모듈을 Raspberry Pi의 USB 포트에 연결합니다.

3. **코드 실행**  
   - 아래 명령어를 실행합니다:
     ```bash
     python co2_detect.py serial@/dev/ttyUSB0:115200
     ```

4. **시스템 작동 확인**  
   - CO₂ 농도가 실시간으로 출력됩니다.  
   - 임계값 초과 시 음성 경고 메시지가 출력됩니다.

---


## ⚙️ 주요 설정

- **CO₂ 임계값 (`CO2_THRESHOLD`)**  
  - 기본값: `1000 ppm`  
  - 테스트 시 필요에 따라 값을 조정할 수 있습니다.

- **음성 출력 속도 (`pyttsx3`)**  
  - 기본값: `200` (말하기 속도)  
  - 음성 출력 속도를 조정하여 경고 메시지 전달 속도를 변경할 수 있습니다.

- **데이터 패킷 구조**  
  - 패킷 필드:  
    - `srcID`: 송신기 ID  
    - `seqNo`: 시퀀스 번호  
    - `type`: 데이터 타입  
    - `Data0`: CO₂ 데이터 (ppm 단위)  

---

## 📖 사용법

1. **장비 설치**  
   - CO₂ 센서를 차량 내부 적합한 위치에 설치합니다.  
   - Raspberry Pi와 Zigbee 모듈을 연결하여 데이터를 전송받을 준비를 완료합니다.

2. **시스템 실행**  
   - 아래 명령어를 실행하여 CO₂ 농도 모니터링을 시작합니다:
     ```bash
     python co2_detect.py serial@/dev/ttyUSB0:115200
     ```

3. **환경 모니터링**  
   - CO₂ 농도가 실시간으로 출력되며, 임계값 초과 시 즉각적인 경고가 발생합니다.


